"0","library(gganimate)"
"0","library(gifski)"
"0",""
"0","parking.animation.data <- park.panel.lag %>% "
"0","    filter( week == 32 & dotw == ""Mon"") %>% "
"0","    mutate(Parking = case_when(Real_Count == 0 ~ ""0 parkings"","
"0","                             Real_Count > 0 & Real_Count <= 1 ~ ""1 parkings"","
"0","                             Real_Count > 1 & Real_Count <= 3 ~ ""2-3 parkings"","
"0","                             Real_Count > 3 & Real_Count <= 5 ~ ""4-5 parkings"","
"0","                             Real_Count > 5 ~ ""6+ parkings"")) %>%"
"0","    mutate(parkings  = fct_relevel(Parking, ""0 parkings"",""1 parkings"",""2-3 parkings"","
"0","                                       ""4-5 parkings"",""6+ parkings"")) %>% "
"0","    st_sf()"
"2","Unknown levels in `f`: 6+ parkings"
"0","# create gif"
"0","parking_animation <-"
"0","  ggplot() +"
"0","    geom_sf(data = selected_nhoods_sf, size = 0.1, color = ""grey50"", fill = ""transparent"") +"
"0","    geom_sf(data = st_union(selected_nhoods_sf), color = ""black"", size = 0.6, fill = ""transparent"") +"
"0","    geom_sf(data = parking.animation.data, aes(color = Parking)) +"
"0","    scale_color_manual(values = palette5) +"
"0","    labs(title = ""On-street parking for one day in July 2021"","
"0","         subtitle = ""15 minute intervals: {current_frame}"") +"
"0","    transition_manual(interval15) +"
"0","    mapTheme()+"
"0","    theme(panel.border = element_rect(colour = ""white"", fill=NA, size=2),)"
"0",""
"0","#animate(parking_animation, duration=20, renderer = gifski_renderer())"
"0","anim_save(""parking"", parking_animation, duration=20, renderer = gifski_renderer())"
"2","nframes and fps adjusted to match transition
"
"2","Inserting image 1 at 0.00s (2%)..."
"2","Inserting image 2 at 0.50s (5%)..."
"2","Inserting image 3 at 1.00s (7%)..."
"2","Inserting image 4 at 1.50s (10%)..."
"2","Inserting image 5 at 2.00s (12%)..."
"2","Inserting image 6 at 2.50s (15%)..."
"2","Inserting image 7 at 3.00s (17%)..."
"2","Inserting image 8 at 3.50s (20%)..."
"2","Inserting image 9 at 4.00s (22%)..."
"2","Inserting image 10 at 4.50s (25%)..."
"2","Inserting image 11 at 5.00s (27%)..."
"2","Inserting image 12 at 5.50s (30%)..."
"2","Inserting image 13 at 6.00s (32%)..."
"2","Inserting image 14 at 6.50s (35%)..."
"2","Inserting image 15 at 7.00s (37%)..."
"2","Inserting image 16 at 7.50s (40%)..."
"2","Inserting image 17 at 8.00s (42%)..."
"2","Inserting image 18 at 8.50s (45%)..."
"2","Inserting image 19 at 9.00s (47%)..."
"2","Inserting image 20 at 9.50s (50%)..."
"2","Inserting image 21 at 10.00s (52%)..."
"2","Inserting image 22 at 10.50s (55%)..."
"2","Inserting image 23 at 11.00s (57%)..."
"2","Inserting image 24 at 11.50s (60%)..."
"2","Inserting image 25 at 12.00s (62%)..."
"2","Inserting image 26 at 12.50s (65%)..."
"2","Inserting image 27 at 13.00s (67%)..."
"2","Inserting image 28 at 13.50s (70%)..."
"2","Inserting image 29 at 14.00s (72%)..."
"2","Inserting image 30 at 14.50s (75%)..."
"2","Inserting image 31 at 15.00s (77%)..."
"2","Inserting image 32 at 15.50s (80%)..."
"2","Inserting image 33 at 16.00s (82%)..."
"2","Inserting image 34 at 16.50s (85%)..."
"2","Inserting image 35 at 17.00s (87%)..."
"2","Inserting image 36 at 17.50s (90%)..."
"2","Inserting image 37 at 18.00s (92%)..."
"2","Inserting image 38 at 18.50s (95%)..."
"2","Inserting image 39 at 19.00s (97%)..."
"2","Inserting image 40 at 19.50s (100%)..."
"2","
Encoding to gif..."
"2"," done!
"
